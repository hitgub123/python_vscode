## 基本設計書

| ID      | fun-021                      |
| ------- | ---------------------------- |
| 分類    | シフト管理                   |
| 機能名  | 個人シフト確認機能               |
| 概要    | 従業員が自身に割り当てられた勤務シフトをオンラインで確認できる。 |
| 利用者  | 一般従業員                   |
| 作成者  |                               |
| 作成日付 |                               |

### 1. 目的

本機能は、従業員が自身に割り当てられた勤務シフトをオンラインで確認することを目的とする。

### 2. 適用範囲

本機能は、一般従業員が自身の勤務シフトを確認する際に適用される。

### 3. 入力

#### 入力項目

| 項目       | 内容                  | 型       | 必須   | 備考                                                                                       |
| ---------- | --------------------- | -------- | ------ | ------------------------------------------------------------------------------------------ |
| 従業員ID   | 従業員を識別するID     | 文字列   | 必須   | 社員番号など                                                                               |
| 期間指定   | シフト情報を確認する期間 | 日付型   | 任意   | 指定がない場合は、当月分のシフトを表示                                                                        |

#### 業務Check

| 項目       | 内容                                                                                   |
| ---------- | ------------------------------------------------------------------------------------ |
| 従業員ID   | 社員マスタに登録されているIDであること。                                                              |
| 期間指定   | 期間指定がある場合、開始日が終了日より未来の日付でないこと。                                                            |

### 4. 出力

| 項目       | 内容                     | 型       | 備考                               |
| ---------- | ------------------------ | -------- | ---------------------------------- |
| シフト情報 | 従業員の勤務シフト情報   | テーブル型 | 勤務日、勤務時間、休憩時間など       |

### 5. 処理詳細

1.  従業員がシステムにログインし、個人シフト確認画面を開く。
2.  システムは、入力された従業員IDと期間指定（任意）を取得する。
3.  取得した情報を基に、シフトテーブルから該当する従業員のシフト情報を検索する。
4.  期間指定がある場合は、指定された期間のシフト情報を抽出する。期間指定がない場合は、当月分のシフト情報を抽出する。
5.  抽出されたシフト情報を画面に表示する。

### 6. 例外処理

| 条件                                                                    | 対応                                                                                                                       |
| ----------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------- |
| 入力チェックエラー（従業員IDが存在しない、期間指定の形式が不正など）           | <span style="color:red;">エラーメッセージを従業員に表示し、処理を中断する。エラーログを出力する。</span>                                         |
| データベースからのデータ取得エラー                                                        | <span style="color:red;">エラーメッセージを従業員に表示し、処理を中断する。システム管理者に通知する。エラーログを出力する。</span>                         |
| 該当するシフト情報が存在しない場合                                  | シフト情報が存在しない旨を従業員に表示する。                                                        |

### 7. 画面設計

*   個人シフト確認画面：
    *   従業員ID表示領域
    *   期間指定入力フィールド（開始日、終了日）
    *   シフト情報表示領域（テーブル形式）
    *   エラーメッセージ表示領域

### 8. その他

*   セキュリティ：従業員IDは暗号化してシステム内で管理する。
*   パフォーマンス：シフト情報の表示は、3秒以内に完了すること。
*   ログ：シフト情報の参照履歴をログに記録する。（従業員ID、参照日時、IPアドレスなど）
